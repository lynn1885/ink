# 小而美
# Todos
1. 开启服务器时, 自动清理_deleted目录中的过期文件
2. 前端rename, reorder, create等操作时, 正在编辑的文件的保存问题
3. 日志系统
4. 疯狂ctrl+s就会疯狂触发. 来个节流吧
5. 刚打开服务器时, 如果user-config.json是空的, 应该把default-config.json复制进去, 现在需要手动处理
6. 现在文件命名允许以_开头, 那是否一级目录会命名文_images, 和目录本身的_images冲突呢
7. 现在重命名文件时, 文件不能和自己重名

# Todos 难解决
1. 如何在程序启动时锁定对应的文件夹, 防止被外部程序占用呢
2. 重命名文件夹之前, 应对锁定要进行操作的目录, 防止外界占用导致重命名失败, 现在的重命名操作, 是可能出现致命错误的, 虽然几率不大
3. 定时清理图片
4. z-index管理
5. 主题统一的tag隐藏方案


## Bugs
1. ink: fold 无法折叠图片, 图片后面需要有一个空行
2. ink: imgs 有些图片无法上传
3. server: 一级目录不支持中文, 需要修复一下
4. ink: 重命名还是不区分大小写
5. 打开一个文件. 切换目录然后再切换到当前文件, 竟然会触发保存
6. 添加各个页面端元数据. 如是否折叠
7. 删除文件会露出背景图
8. 系统文件_开头改为.开头, 因为用户可以定义_开头的文件
9. 关闭md对<div>之类的自动高亮
10. 运行用户自动设置要使用哪些代码高亮(比如lua), 和代码theme
11. 字数统计统计的是字符, 需要单词. 且现在三秒统计一次
12. 修改图标大小至100%
13. 插入图片不应消掉当前行
14. 重复打开一个文件, 会利用浏览器缓存吗? 那会不会出错
15. 纯数字命名的笔记有丢失的可能性
16. 图书icon星星是白色的
17. '''markdown '''中间的标题无法被正确折叠, 其他的#倒是可以被正确折叠, 这说明, 查看每行是否以# 开头, 是无法确定是否是标题的
18. img对互联网图片的支持
19. 重命名可能会失败, 这可能和坚果云有关
20. 文件名中包含四字节字符可能会报错失败 ⚠️ 但有些emoji, 如⭐好像不是特殊字符
21. 没有用户配置文件, 或者用户配置文件中没有默认字段, 都会报错. 这完全可以通过复制默认配置实现. 而且配置文件硬性依赖plugins inkReplace等插件配置文件. 没有notes目录也会报错, 这个也可以自己创建
22. 后端文件日志
23. 移动端无法触发右键
24. 删除备份文件时, 最后包含排除正式文件的逻辑, 防止正式文件被误删除
25. 现在控制是否可以使用catalog的开关太多了, 应该由打开关闭文件统一控制. catalog - handleContentMenu中的开关当前就是无效的
26. >引用中的**强调**会有样式bug
27. 不准备对```markdown```做样式排版
28. es关闭搜索框
29. 数学字体也被替换为了元气满满
30. 隐藏tag现在有一些bug
31. 微软雅黑的粗体非常难看
32. 以#开头的不一定都是标题, ctrl + shift + ]就无法正确识别, 创建目录也无法幸免
33. 切换完一级目录, 二级目录变了, 三级目录没有变
34. 在大多数Linux文件系统上，文件名最长可达255个字符。文件名可以包含除“/”和空字符（\0）外的所有字符。
35. 在第一个一级标题按ctrl + j会失效
36. 即便有退出前的监听, 强制退出时直接点击leave也不会保存笔记内容
37. 粘贴图片还是会覆盖一行
38. 把所有用户配置, 笔记, 图标放在user文件夹中, 方便迁移
39. 好像讯飞英语输入的净化正则有点问题, 字母中间的 "大写" 好像不会被识别
40. ctrl+shift+o, 重排序列表, 对于代码中的1. 2. 3. 之类的也会更改
41. 对带鱼屏做优化, 运行自行设置边距

## Features
2. editor: 支持$$数学
2. editor: 支持table编辑
3. ink: 支持多窗口
3. ink: 转思维导图
4. 这个文件创建于2013年, 大一暑假时期